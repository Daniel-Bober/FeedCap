import{q as n,s as m,x as h,M as f,y as g,z as p,A as l,B as w,C as y}from"./entry.959975eb.js";import{g as u}from"./useFirebaseAuth.c906f681.js";const $=async s=>{const{$firestore:t}=n(),{$auth:a}=n();await l(m(t,a.currentUser.email,s),{})},k=async s=>{const{$firestore:t}=n(),a=m(t,"idToUser",s);return(await h(a)).data().user},q=async()=>{const{$firestore:s}=n(),t=await u(),a=f(g(s,t.email)),o=await p(a),e=[];o.forEach(c=>{e.push(c.id)});const r=e.indexOf("userInfo");return e.splice(r,1),e},x=async(s,t,a,o,e,r,c)=>{const{$firestore:i}=n();await l(m(i,s,t,"messages",c),{customerEmail:a,customerName:o,message:e,date:r})},E=async s=>{const{$firestore:t}=n(),a=w(),o=await u();let e=null;switch(s){case 1:e="messages";break;case 2:e="likedMessages";break}const r=f(g(t,o.email,a.selectedProfile,e)),c=await p(r),i=[[],[]];return c.forEach(d=>{i[0].push(d.data()),i[1].push(d.id)}),i},N=async(s,t)=>{const{$firestore:a}=n(),o=w(),e=await u();await y(m(a,e.email,o.selectedProfile,"messages",t));const r=Date.now().toString();await l(m(a,e.email,o.selectedProfile,"likedMessages",r),{customerEmail:s.customerEmail,customerName:s.customerName,message:s.message,date:s.date})};export{q as a,$ as c,k as f,E as g,N as m,x as s};
