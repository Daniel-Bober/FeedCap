import{q as n,s as m,x as h,y as l,z as y,M as d,A as p,B as g}from"./entry.6077f5e8.js";import{g as u}from"./useFirebaseAuth.ab7ed384.js";import"./short-unique-id.01c04ed3.js";import{u as w}from"./mainStore.bf01849b.js";const q=async s=>{const{$firestore:t}=n(),{$auth:a}=n();await l(m(t,a.currentUser.email,s),{})},x=async s=>{const{$firestore:t}=n(),a=m(t,"idToUser",s);return(await h(a)).data().user},E=async()=>{const{$firestore:s}=n(),t=await u(),a=d(p(s,t.email)),o=await g(a),e=[];o.forEach(c=>{e.push(c.id)});const r=e.indexOf("userInfo");return e.splice(r,1),e},N=async(s,t,a,o,e,r,c)=>{const{$firestore:i}=n();await l(m(i,s,t,"messages",c),{customerEmail:a,customerName:o,message:e,date:r})},P=async s=>{const{$firestore:t}=n(),a=w(),o=await u();let e=null;switch(s){case 1:e="messages";break;case 2:e="likedMessages";break}const r=d(p(t,o.email,a.selectedProfile,e)),c=await g(r),i=[[],[]];return c.forEach(f=>{i[0].push(f.data()),i[1].push(f.id)}),i},I=async(s,t)=>{const{$firestore:a}=n(),o=w(),e=await u();await y(m(a,e.email,o.selectedProfile,"messages",t));const r=Date.now().toString();await l(m(a,e.email,o.selectedProfile,"likedMessages",r),{customerEmail:s.customerEmail,customerName:s.customerName,message:s.message,date:s.date})};export{E as a,q as c,x as f,P as g,I as m,N as s};
